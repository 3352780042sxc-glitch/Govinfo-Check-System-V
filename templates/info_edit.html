{% extends 'base.html' %}

{% block title %}政府信息检查系统 - 编辑信息{% endblock %}

{% block content %}
<div class="layui-card">
    <div class="layui-card-header">编辑信息</div>
    <div class="layui-card-body">
        <form class="layui-form" method="POST">
            {{ form.hidden_tag() }}
            
            <div class="layui-form-item">
                <label class="layui-form-label">信息标题</label>
                <div class="layui-input-block">
                    {{ form.title(class="layui-input", placeholder="请输入信息标题") }}
                    {% for error in form.title.errors %}
                        <div class="layui-form-mid layui-word-aux layui-text-danger">{{ error }}</div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="layui-form-item">
                <label class="layui-form-label">信息内容</label>
                <div class="layui-input-block">
                    {{ form.content(class="layui-textarea", placeholder="请输入信息内容", rows="5") }}
                    {% for error in form.content.errors %}
                        <div class="layui-form-mid layui-word-aux layui-text-danger">{{ error }}</div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="layui-form-item">
                <label class="layui-form-label">信息类别</label>
                <div class="layui-input-block">
                    {{ form.category(class="layui-input", placeholder="请输入信息类别") }}
                    {% for error in form.category.errors %}
                        <div class="layui-form-mid layui-word-aux layui-text-danger">{{ error }}</div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="layui-form-item">
                <label class="layui-form-label">信息状态</label>
                <div class="layui-input-block">
                    {{ form.status(class="layui-input", placeholder="请输入信息状态") }}
                    {% for error in form.status.errors %}
                        <div class="layui-form-mid layui-word-aux layui-text-danger">{{ error }}</div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="layui-form-item">
                <div class="layui-input-block">
                    {{ form.submit(class="layui-btn") }}
                    <a href="{{ url_for('info_detail', info_id=info.id) }}" class="layui-btn layui-btn-primary">取消</a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
layui.use('form', function(){
    var form = layui.form;
    
    // 渲染表单
    form.render();
});
</script>
{% endblock %}
